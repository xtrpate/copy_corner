# This file was generated by the Tkinter Designer by Parth Jadhav
# https://github.com/ParthJadhav/Tkinter-Designer


from pathlib import Path
import sys
import subprocess
# from tkinter import *
# Explicit imports to satisfy Flake8
from tkinter import Tk, Canvas, Entry, Text, Button, PhotoImage, messagebox, ttk
import tkinter as tk


def fetch_print_jobs():
    import mysql.connector
    try:
        conn = mysql.connector.connect(
            host="localhost",
            user="root",  # change if needed
            password="",  # add your password if any
            database="copy_corner_db"
        )
        cursor = conn.cursor(dictionary=True)
        query = """
            SELECT 
                pj.job_id, 
                u.username, 
                f.file_id,
                f.file_name,
                f.file_type,
                pj.pages, 
                pj.paper_size,
                pj.color_option, 
                pj.copies, 
                pj.payment_method, 
                pj.total_amount,
                pj.status, 
                pj.notes, 
                pj.created_at
            FROM print_jobs pj
            LEFT JOIN users u ON pj.user_id = u.user_id
            LEFT JOIN files f ON pj.file_id = f.file_id
            ORDER BY pj.created_at DESC
        """
        cursor.execute(query)
        rows = cursor.fetchall()
        cursor.close()
        conn.close()
        return rows
    except mysql.connector.Error as err:
        print(f"Database Error: {err}")
        return []


def display_print_jobs(canvas):
    """
    Fetches print job data from database and displays it
    in the Canvas table area.
    """
    jobs = fetch_print_jobs()
    canvas.delete("job_row")

    y_position = 194  # starting Y coordinate for first row

    for index, job in enumerate(jobs):
        job_id = job["job_id"]
        username = job["username"] or "-"
        file_id = job["file_id"] or "-"
        pages = job["pages"] or "-"
        size = job["paper_size"] or "-"
        color_option = job["color_option"] or "-"

        # Color display
        if color_option == "Black & White":
            color = "B&W"
        elif color_option == "Color":
            color = "C"
        else:
            color = color_option

        # Status display
        status_text = job["status"] or "-"
        if status_text == "Pending":
            status = "P"
        elif status_text == "Approved":
            status = "A"
        elif status_text == "Completed":
            status = "C"
        elif status_text == "Voided":
            status = "V"
        else:
            status = status_text

        # File name handling - truncate long names
        file_name = job["file_name"] or f"File {file_id}"
        if len(file_name) > 20:
            file_name = file_name[:17] + "..."

        # Date formatting
        submitted = (
            job["created_at"].strftime("%m/%d/%y %H:%M")
            if job["created_at"]
            else "-"
        )

        row_tag = f"row_{index}"

        # Create row items with proper spacing
        canvas.create_text(261, y_position, text=f"#{job_id}", fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(307, y_position, text=username, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(385, y_position, text=file_name, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(430, y_position, text=pages, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(465, y_position, text=size, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(502, y_position, text=color, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(536, y_position, text=status, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
        canvas.create_text(575, y_position, text=submitted, fill="#000000",
                           font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))

        y_position += 25

    enable_job_selection(canvas, jobs)


def enable_job_selection(canvas, jobs):
    """Enable clicking and hovering on rows."""
    selected_box = [None]
    selected_job = [None]

    def highlight_row(index, color):
        """Draw a background rectangle for hover or selection."""
        y = 194 + (index * 25)
        if selected_box[0]:
            canvas.delete(selected_box[0])
        selected_box[0] = canvas.create_rectangle(
            255, y - 2, 650, y + 20,
            fill=color, outline=color, tags="highlight"
        )
        canvas.tag_lower(selected_box[0])

    def on_enter(event):
        clicked = canvas.find_withtag("current")
        if not clicked:
            return
        tags = canvas.gettags(clicked[0])
        for t in tags:
            if t.startswith("row_"):
                index = int(t.split("_")[1])
                highlight_row(index, "#E0F0FF")
                canvas.config(cursor="hand2")
                return

    def on_leave(event):
        canvas.config(cursor="")
        if selected_job[0] is None:
            canvas.delete("highlight")

    def on_click(event):
        clicked = canvas.find_withtag("current")
        if not clicked:
            return
        tags = canvas.gettags(clicked[0])
        for t in tags:
            if t.startswith("row_"):
                index = int(t.split("_")[1])
                selected_job[0] = jobs[index]
                highlight_row(index, "#CCE5FF")
                update_job_details(canvas, jobs[index])
                return

    # Bind events
    canvas.tag_bind("job_row", "<Enter>", on_enter)
    canvas.tag_bind("job_row", "<Leave>", on_leave)
    canvas.tag_bind("job_row", "<Button-1>", on_click)

    add_print_job_buttons(canvas, selected_job)


def filter_print_jobs(canvas, username_filter, status_filter):
    import mysql.connector
    try:
        conn = mysql.connector.connect(
            host="localhost",
            user="root",
            password="",
            database="copy_corner_db"
        )
        cursor = conn.cursor(dictionary=True)

        query = """
            SELECT 
                pj.job_id, 
                u.username, 
                f.file_id,
                f.file_name,
                f.file_type,
                pj.pages, 
                pj.paper_size,
                pj.color_option, 
                pj.copies, 
                pj.payment_method, 
                pj.total_amount,
                pj.status, 
                pj.notes, 
                pj.created_at
            FROM print_jobs pj
            LEFT JOIN users u ON pj.user_id = u.user_id
            LEFT JOIN files f ON pj.file_id = f.file_id
            WHERE 1=1
        """

        params = []

        if username_filter:
            query += " AND u.username LIKE %s"
            params.append(f"%{username_filter}%")

        if status_filter and status_filter != "All":
            query += " AND pj.status = %s"
            params.append(status_filter)

        query += " ORDER BY pj.created_at DESC"
        cursor.execute(query, params)
        rows = cursor.fetchall()

        cursor.close()
        conn.close()

        canvas.delete("job_row")
        y_position = 194

        for index, job in enumerate(rows):
            job_id = job["job_id"]
            username = job["username"] or "-"
            file_id = job["file_id"] or "-"
            pages = job["pages"] or "-"
            size = job["paper_size"] or "-"
            color_option = job["color_option"] or "-"
            color = "B&W" if color_option == "Black & White" else "C" if color_option == "Color" else color_option
            status_text = job["status"] or "-"
            status = {
                "Pending": "P",
                "Approved": "A",
                "Voided": "V",
                "Completed": "C"
            }.get(status_text, status_text)

            # File name handling
            file_name = job["file_name"] or f"File {file_id}"
            if len(file_name) > 20:
                file_name = file_name[:17] + "..."

            submitted = (
                job["created_at"].strftime("%m/%d/%y %H:%M") if job["created_at"] else "-"
            )

            row_tag = f"row_{index}"

            canvas.create_text(261, y_position, text=f"#{job_id}", fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(307, y_position, text=username, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(385, y_position, text=file_name, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(430, y_position, text=pages, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(465, y_position, text=size, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(502, y_position, text=color, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(536, y_position, text=status, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            canvas.create_text(575, y_position, text=submitted, fill="#000000",
                               font=("Inter Bold", 12 * -1), anchor="nw", tags=("job_row", row_tag))
            y_position += 25

        enable_job_selection(canvas, rows)

    except mysql.connector.Error as err:
        messagebox.showerror("Database Error", f"Error while filtering:\n{err}")


def update_job_details(canvas, job):
    """Display job info on the right-side detail area."""
    canvas.delete("job_details")

    # File name handling for details
    file_name = job["file_name"] or f"File {job['file_id']}"
    if len(file_name) > 30:
        file_name = file_name[:27] + "..."

    # Create detail texts with proper formatting
    details = [
        ("Req ID:", f"#{job['job_id']}"),
        ("User:", job['username'] or '-'),
        ("File:", file_name),
        ("Pages:", str(job['pages'] or '-')),
        ("Status:", job['status'] or '-'),
        ("Submitted:", job['created_at'].strftime('%Y-%m-%d %H:%M') if job['created_at'] else '-')
    ]

    y = 132
    for label, value in details:
        # Create the combined text on one line
        canvas.create_text(
            666.0, y, anchor="nw",
            text=f"{label} {value}",
            fill="#000000",
            font=("Inter Bold", 12 * -1),
            tags="job_details"
        )
        y += 20


def add_print_job_buttons(canvas, selected_job_ref):
    """Make the right-side action buttons interactive and allow sending notes when voided."""
    from tkinter import messagebox
    import mysql.connector

    # --- Notes Text Area ---
    notes_text = Text(window, bd=0, relief="flat", wrap="word", highlightthickness=1)
    notes_text.place(x=670, y=265, width=165, height=50)
    notes_text.insert("1.0", "")  # start empty

    def change_status(new_status):
        """Approve or Void the selected job and update DB + UI."""
        job = selected_job_ref[0]
        if not job:
            messagebox.showwarning("No Selection", "Please select a job first.")
            return

        note_content = notes_text.get("1.0", "end").strip()

        try:
            conn = mysql.connector.connect(
                host="localhost",
                user="root",
                password="",
                database="copy_corner_db"
            )
            cursor = conn.cursor()

            # Update status and notes if voided
            if new_status == "Voided":
                cursor.execute(
                    "UPDATE print_jobs SET status = %s, notes = %s WHERE job_id = %s",
                    (new_status, note_content, job["job_id"])
                )
            else:
                cursor.execute(
                    "UPDATE print_jobs SET status = %s WHERE job_id = %s",
                    (new_status, job["job_id"])
                )

            conn.commit()
            cursor.close()
            conn.close()

            job["status"] = new_status
            job["notes"] = note_content
            update_job_details(canvas, job)
            display_print_jobs(canvas)

            messagebox.showinfo("Success", f"Request marked as {new_status}.")

        except mysql.connector.Error as err:
            messagebox.showerror("Database Error", f"Error updating status:\n{err}")

    def message_user():
        """Send the note to the user when job is voided."""
        job = selected_job_ref[0]
        if not job:
            messagebox.showwarning("No Selection", "Please select a job first.")
            return

        note_content = notes_text.get("1.0", "end").strip()
        if job["status"] != "Voided":
            messagebox.showwarning("Not Voided", "You can only message the user when the request is voided.")
            return
        if not note_content:
            messagebox.showwarning("Empty Note", "Please type a message before sending.")
            return

        try:
            conn = mysql.connector.connect(
                host="localhost",
                user="root",
                password="",
                database="copy_corner_db"
            )
            cursor = conn.cursor()
            cursor.execute(
                """
                INSERT INTO notifications (user_id, subject, message, created_at)
                VALUES (
                    (SELECT user_id FROM print_jobs WHERE job_id = %s),
                    %s,
                    %s,
                    NOW()
                )
                """,
                (job["job_id"], "Voided Request Notice", note_content)
            )

            conn.commit()
            cursor.close()
            conn.close()
            messagebox.showinfo("Message Sent", f"Message sent to user {job['username']}.")

        except mysql.connector.Error as err:
            messagebox.showerror("Database Error", f"Error sending message:\n{err}")

    def download_file():
        # (unchanged)
        import os, shutil
        from tkinter import filedialog
        job = selected_job_ref[0]
        if not job:
            messagebox.showwarning("No Selection", "Please select a job first.")
            return
        try:
            conn = mysql.connector.connect(host="localhost", user="root", password="", database="copy_corner_db")
            cursor = conn.cursor(dictionary=True)
            cursor.execute("SELECT file_name, file_path FROM files WHERE file_id = %s", (job["file_id"],))
            file_record = cursor.fetchone()
            cursor.close()
            conn.close()

            if not file_record:
                messagebox.showerror("Error", "File record not found.")
                return

            file_name = file_record["file_name"]
            file_path = file_record["file_path"]
            if not os.path.exists(file_path):
                messagebox.showerror("Error", f"File not found: {file_path}")
                return

            save_path = filedialog.asksaveasfilename(initialfile=file_name, title="Save File As", defaultextension="", filetypes=[("All Files", "*.*")])
            if save_path:
                shutil.copy(file_path, save_path)
                messagebox.showinfo("Download Complete", f"File saved to:\n{save_path}")
        except Exception as e:
            messagebox.showerror("Error", f"Unexpected error:\n{e}")

    def start_print():
        job = selected_job_ref[0]
        if not job:
            messagebox.showwarning("No Selection", "Please select a job first.")
            return
        messagebox.showinfo("Start Print", f"Starting print for Job #{job['job_id']}...")

    # Helper to bind clickable areas
    def make_clickable(x1, y1, x2, y2, command):
        rect_id = canvas.create_rectangle(x1, y1, x2, y2, outline="", fill="", tags="btn_area")
        canvas.tag_bind(rect_id, "<Button-1>", lambda e: command())
        canvas.tag_bind(rect_id, "<Enter>", lambda e: window.config(cursor="hand2"))
        canvas.tag_bind(rect_id, "<Leave>", lambda e: window.config(cursor=""))

    make_clickable(671, 335, 834, 366, lambda: change_status("Approved"))
    make_clickable(671, 372, 834, 403, start_print)
    make_clickable(672, 409, 835, 440, lambda: change_status("Voided"))
    make_clickable(671, 446, 834, 477, download_file)
    make_clickable(672, 483, 835, 514, message_user)



# --- Sidebar Buttons with Navigation ---
def open_admin_user():
    window.destroy()
    subprocess.Popen([sys.executable, "admin_user.py"])


def open_admin_dashboard():
    window.destroy()
    subprocess.Popen([sys.executable, "admin_dashboard.py"])


def open_admin_report():
    window.destroy()
    subprocess.Popen([sys.executable, "admin_report.py"])


def open_admin_notification():
    window.destroy()
    subprocess.Popen([sys.executable, "admin_notification.py"])


def round_rectangle(canvas, x1, y1, x2, y2, r=15, **kwargs):
    points = [
        x1 + r, y1, x2 - r, y1, x2, y1, x2, y1 + r,
        x2, y2 - r, x2, y2, x2 - r, y2, x1 + r, y2,
        x1, y2, x1, y2 - r, x1, y1 + r, x1, y1
    ]
    return canvas.create_polygon(points, smooth=True, **kwargs)


def create_rounded_menu_button(canvas, x, y, w, h, text, command=None):
    rect = round_rectangle(canvas, x, y, x + w, y + h, r=10, fill="#FFFFFF", outline="#000000", width=1)
    txt = canvas.create_text(x + 25, y + 8, text=text, anchor="nw", fill="#000000", font=("Inter Bold", 15))

    def on_click(event):
        if command:
            command()

    def on_hover(event):
        canvas.itemconfig(rect, fill="#E8E8E8")
        window.config(cursor="hand2")

    def on_leave(event):
        canvas.itemconfig(rect, fill="#FFFFFF")
        window.config(cursor="")

    for tag in (rect, txt):
        canvas.tag_bind(tag, "<Button-1>", on_click)
        canvas.tag_bind(tag, "<Enter>", on_hover)
        canvas.tag_bind(tag, "<Leave>", on_leave)


# --- Logout Function ---
def logout():
    messagebox.showinfo("Logged Out", "Logout successful!")
    subprocess.Popen([sys.executable, "login.py"])
    window.destroy()


OUTPUT_PATH = Path(__file__).parent
ASSETS_PATH = OUTPUT_PATH / Path(
    r"D:\downloadss\New folder\Tkinter\Tkinter-Designer-master\build\assets\frame4")


def relative_to_assets(path: str) -> Path:
    return ASSETS_PATH / Path(path)


window = Tk()
window_width = 905
window_height = 570

screen_width = window.winfo_screenwidth()
screen_height = window.winfo_screenheight()
x = int((screen_width / 2) - (window_width / 2))
y = int((screen_height / 2) - (window_height / 2))
window.geometry(f"{window_width}x{window_height}+{x}+{y}")
window.configure(bg="#FFFFFF")
window.title("Admin Print Jobs")

canvas = Canvas(
    window,
    bg="#FFFFFF",
    height=570,
    width=894,
    bd=0,
    highlightthickness=0,
    relief="ridge"
)

canvas.place(x=0, y=0)

# Main container
canvas.create_rectangle(
    33.0,
    31.0,
    863.0,
    535.0,
    fill="#FFFFFF",
    outline="#000000")

# Sidebar
canvas.create_rectangle(
    41.0,
    39.0,
    244.0,
    527.0,
    fill="#FFFFFF",
    outline="#000000")

# Admin profile and title
image_image_1 = PhotoImage(
    file=relative_to_assets("image_1.png"))
image_1 = canvas.create_image(
    143.0,
    79.0,
    image=image_image_1
)

canvas.create_text(
    117.0,
    130.0,
    anchor="nw",
    text="ADMIN",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

# Main title
canvas.create_text(
    272.0,
    40.0,
    anchor="nw",
    text="Print Jobs Management",
    fill="#000000",
    font=("Inter Bold", 32 * -1)
)

# Vertical separator
canvas.create_rectangle(
    258.0,
    32.0,
    258.0,
    536.0,
    fill="#000000",
    outline="")

# Right side details panel
canvas.create_rectangle(
    660.0,
    79.0,
    846.0,
    527.0,
    fill="#FFFFFF",
    outline="#000000")

# Search panel
canvas.create_rectangle(
    260.0,
    86.0,
    657.0,
    138.0,
    fill="#FFFFFF",
    outline="#000000")

# Search label
canvas.create_text(
    269.0,
    86.0,
    anchor="nw",
    text="Search Username:",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

# Status dropdown area
canvas.create_rectangle(
    482.0,
    101.0,
    579.0,
    132.0,
    fill="#FFFFFF",
    outline="#000000")

# Action buttons
canvas.create_rectangle(
    671.0,
    335.0,
    834.0,
    366.0,
    fill="#FFFFFF",
    outline="#000000")

canvas.create_text(
    722.0,
    340.0,
    anchor="nw",
    text="Approve",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

canvas.create_rectangle(
    671.0,
    372.0,
    834.0,
    403.0,
    fill="#FFFFFF",
    outline="#000000")

canvas.create_text(
    716.0,
    379.0,
    anchor="nw",
    text="Start Print",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

canvas.create_rectangle(
    672.0,
    409.0,
    835.0,
    440.0,
    fill="#FFFFFF",
    outline="#000000")

canvas.create_text(
    737.0,
    416.0,
    anchor="nw",
    text="Void",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

canvas.create_rectangle(
    671.0,
    446.0,
    834.0,
    477.0,
    fill="#FFFFFF",
    outline="#000000")

canvas.create_text(
    702.0,
    453.0,
    anchor="nw",
    text="Download File",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

canvas.create_rectangle(
    672.0,
    483.0,
    835.0,
    514.0,
    fill="#FFFFFF",
    outline="#000000")

canvas.create_text(
    701.0,
    490.0,
    anchor="nw",
    text="Message User",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

# Status label
canvas.create_text(
    462.0,
    86.0,
    anchor="nw",
    text="Status:",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

# Details panel title
canvas.create_text(
    677.0,
    94.0,
    anchor="nw",
    text="Selected Job Details",
    fill="#000000",
    font=("Inter Bold", 15 * -1)
)

# Table header separator
canvas.create_rectangle(
    257.0,
    183.0,
    659.9999093967635,
    185.03875948724686,
    fill="#000000",
    outline="#000000")

# Table column headers
canvas.create_text(
    261.0,
    167.0,
    anchor="nw",
    text="Req ID",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    307.0,
    167.0,
    anchor="nw",
    text="Username",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    385.0,
    167.0,
    anchor="nw",
    text="File",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    420.0,
    167.0,
    anchor="nw",
    text="Pages",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    465.0,
    167.0,
    anchor="nw",
    text="Size",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    497.0,
    167.0,
    anchor="nw",
    text="Color",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    536.0,
    167.0,
    anchor="nw",
    text="Status",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

canvas.create_text(
    588.0,
    167.0,
    anchor="nw",
    text="Submitted",
    fill="#000000",
    font=("Inter Bold", 12 * -1)
)

# Notes area
canvas.create_text(
    671.0,
    246.0,
    anchor="nw",
    text="Admin Notes/Reason if voided",
    fill="#000000",
    font=("Inter Bold", 11 * -1)
)

canvas.create_rectangle(
    666.0,
    262.0,
    841.0,
    318.0,
    fill="#FFFFFF",
    outline="#000000")

# Search Box
search_entry = Entry(
    window,
    bd=0,
    bg="#FFFFFF",
    highlightthickness=1,
    highlightcolor="#000000",
    font=("Inter", 11)
)
search_entry.place(x=303, y=105, width=150, height=22)

# Status Dropdown
status_var = tk.StringVar(value="All")
status_dropdown = ttk.Combobox(
    window,
    textvariable=status_var,
    values=["All", "Pending", "Approved", "Voided", "Completed"],
    state="readonly",
    font=("Inter", 11)
)
status_dropdown.place(x=485, y=105, width=85, height=22)


# Filter Button
def on_filter_click():
    username = search_entry.get().strip()
    status = status_var.get().strip()
    filter_print_jobs(canvas, username, status)


# Create filter button
x1, y1 = 590, 103
width, height = 55, 25
x2, y2 = x1 + width, y1 + height

filter_rect = round_rectangle(
    canvas, x1, y1, x2, y2, r=5,
    fill="#FFFFFF", outline="#000000", width=1,
    tags="filter_btn_canvas"
)

filter_txt = canvas.create_text(
    x1 + (width / 2),
    y1 + (height / 2),
    text="Filter",
    fill="#000000",
    font=("Inter Bold", 11),
    tags="filter_btn_canvas"
)


def on_filter_hover(event):
    canvas.itemconfig(filter_rect, fill="#E8E8E8")
    window.config(cursor="hand2")


def on_filter_leave(event):
    canvas.itemconfig(filter_rect, fill="#FFFFFF")
    window.config(cursor="")


canvas.tag_bind("filter_btn_canvas", "<Button-1>", lambda e: on_filter_click())
canvas.tag_bind("filter_btn_canvas", "<Enter>", on_filter_hover)
canvas.tag_bind("filter_btn_canvas", "<Leave>", on_filter_leave)

# Sidebar Navigation Buttons
create_rounded_menu_button(canvas, 74, 170, 151, 38, "Dashboard", open_admin_dashboard)
create_rounded_menu_button(canvas, 74, 226, 151, 38, "User", open_admin_user)
create_rounded_menu_button(canvas, 74, 283, 151, 38, "Reports", open_admin_report)
create_rounded_menu_button(canvas, 74, 340, 151, 38, "Notifications", open_admin_notification)
create_rounded_menu_button(canvas, 74, 397, 151, 38, "Settings")
create_rounded_menu_button(canvas, 97, 473, 111, 38, "Logout", logout)

# Initialize the display
display_print_jobs(canvas)

window.resizable(False, False)
window.mainloop()